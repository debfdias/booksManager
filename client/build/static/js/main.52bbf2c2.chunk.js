(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){},32:function(e,a,t){e.exports=t(66)},56:function(e,a,t){},57:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(28),c=t.n(r),l=t(12),s=t(11),i=t(31),m=t(6),u=t(7),d=t(9),v=t(8),h=t(10),f=t(14),b=t.n(f),p={getFavorites:function(){return b.a.get("/api/books")},saveFavorite:function(e){return b.a.post("/api/books",e)},deleteFavorite:function(e){return b.a.delete("/api/books/"+e)},searchGoogleBooks:function(e){return b.a.get("https://www.googleapis.com/books/v1/volumes",{params:{q:e}})}},g=function(e){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.props.handleSubmit},o.a.createElement("div",{className:"form-group m-5"},o.a.createElement("div",{className:"input-group"},o.a.createElement("input",{onChange:this.props.handleSearchChange,type:"text",className:"form-control",placeholder:"Enter a Title",required:!0}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit",id:"button-addon2"},o.a.createElement("i",{className:"fas fa-search"})," Search")))))}}]),a}(n.Component);t(56);var E=function(e){return o.a.createElement("div",{className:"jumbotron jumbotron-fluid px-3"},o.a.createElement("h4",{className:"display-4"},"ReactJS Google Books Search"),o.a.createElement("h5",{className:"lead"},"Search for Books and add them to your favorites list."))},k=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(o)))).state={saved:!1},t.handleBtn=function(){t.props.savebook(t.props.book),t.setState({saved:!0})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("span",null,this.state.saved?o.a.createElement("span",{role:"button",className:"btn btn-secondary text-light disabled btn-sm"},"Added to Favorites"):o.a.createElement("span",Object.assign({role:"button"},this.props,{className:"btn btn-primary text-light btm-sm",onClick:function(){return e.handleBtn()}}),"Save"))}}]),a}(n.Component),N=(t(26),function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(o)))).state={books:[],search:""},t.saveBook=function(e){var a=Object(i.a)({},t.state);t.props.saveBook(a),console.log(a)},t.googleSearch=function(e){e&&p.searchGoogleBooks(e).then(function(e){var a=e.data.items.map(function(e){var a=Object.assign({},e);return a.isSaved=!1,a});console.log(a),t.setState({books:a})}).catch(function(e){return console.log(e)})},t.saveBook=function(e){console.log("PRESSED SAVE\n",e);var a={title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.smallThumbnail,link:e.volumeInfo.infoLink,googleID:e.id};p.saveFavorite(a).catch(function(e){return console.log(e)})},t.handleSearchChange=function(e){t.setState({search:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.googleSearch(t.state.search)},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement(E,null),o.a.createElement(g,{handleSubmit:this.handleSubmit,handleSearchChange:this.handleSearchChange}),this.state.books.length?o.a.createElement("div",{className:"row"},o.a.createElement("ul",{className:"list-unstyled"},this.state.books.map(function(a){return o.a.createElement("li",{className:"media my-4 rounded shadow p-2",key:a.id},o.a.createElement("img",{src:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.smallThumbnail:"",className:"mr-3",alt:"..."}),o.a.createElement("div",{className:"media-body"},o.a.createElement("h5",{className:"mt-0 mb-1"},a.volumeInfo.title," ",o.a.createElement("span",{className:"font-italic"},"by ",a.volumeInfo.authors.join(", "))),o.a.createElement("p",{className:"overflow-auto description"},a.volumeInfo.description),o.a.createElement("a",{className:"btn btn-primary",target:"_blank",href:a.volumeInfo.infoLink},"View")," "," ",o.a.createElement(k,{key:"book.id",book:a,savebook:e.saveBook})))}))):o.a.createElement("div",{className:"text-center"},o.a.createElement("h3",null,"Search List Empty"),o.a.createElement("h4",null,"Please enter a title, subject, or author in the search field.")))}}]),a}(n.Component));var w=function(e){return o.a.createElement("span",Object.assign({role:"button",className:"btn btn-danger text-light btn-sm",tabIndex:"0"},e),"Delete")};var y=function(e){return o.a.createElement("span",null,o.a.createElement("a",{className:"btn btn-primary btn-sm text-light",href:e.bookLink,target:"_blank"},"More details at Google Books"))},j=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(v.a)(a)).call.apply(e,[this].concat(o)))).state={books:[],search:""},t.favList=function(){console.log("test"),p.getFavorites().then(function(e){console.log(e.data),void 0!==e.data&&t.setState({books:e.data})}).catch(function(e){return console.log(e)})},t.deleteFavorite=function(e){console.log("DELETE ID: ",e),p.deleteFavorite(e).then(function(){t.favList()})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.favList()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement(E,null),this.state.books.length?o.a.createElement("div",{className:"row"},o.a.createElement("ul",{className:"list-unstyled"},this.state.books.map(function(a){return o.a.createElement("li",{className:"media my-4 rounded shadow p-2"},o.a.createElement("img",{src:a.image,className:"mr-3",alt:"..."}),o.a.createElement("div",{className:"media-body"},o.a.createElement("h5",{className:"mt-0 mb-1 book-title"},a.title),o.a.createElement("p",{className:"overflow-auto description"},a.description),o.a.createElement(y,{bookLink:a.link})," "," ",o.a.createElement(w,{onClick:function(){return e.deleteFavorite(a._id)}})))}))):o.a.createElement("div",{className:"text-center"},o.a.createElement("h3",null,"Favorites List Empty"),o.a.createElement("br",null),o.a.createElement("h4",null,"Please go to ",o.a.createElement("a",{href:"/Search"},"Search Page")," to add some favorites!")))}}]),a}(n.Component);t(57);var S=function(e){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-3 sticky-top"},o.a.createElement("div",{className:"container"},o.a.createElement(l.b,{exact:!0,to:"/",className:"navbar-brand"},o.a.createElement("i",{className:"fas fa-book-open"})," Google Books React"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(l.b,{to:"/Search",className:"nav-link"},o.a.createElement("i",{className:"fas fa-search"})," Search")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(l.b,{to:"/Favorites",className:"nav-link"}," ",o.a.createElement("i",{className:"fas fa-bookmark"})," Favorites "))))))};var O=function(){return o.a.createElement(l.a,null,o.a.createElement("div",null,o.a.createElement(S,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:N}),o.a.createElement(s.a,{exact:!0,path:"/Search",component:N}),o.a.createElement(s.a,{exact:!0,path:"/Favorites",component:j}))))},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(O,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");x?function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):I(e)})}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.52bbf2c2.chunk.js.map